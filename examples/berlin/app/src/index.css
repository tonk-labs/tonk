/**
 * Main CSS Entry Point
 *
 * Import order is CRITICAL for proper cascade behavior.
 * Files are organized from lowest to highest specificity:
 * 1. Base variables
 * 2. ProseMirror core (global editor styles)
 * 3. Node-specific styles (headings, lists, etc)
 * 4. Extension styles (line numbers)
 * 5. Layout styles (positioning, padding)
 * 6. Instance overrides (simple-editor customizations)
 */

/* =====================
   1. TAILWIND & VARIABLES
   ===================== */
@import url("https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap");
@import "tailwindcss";
@import "./styles/_variables.css";

/* Page background color */
:root {
  --color-page-background: #f2f3f4;
}

/* App-level color tokens (mapped from _variables.css) */
:root {
  /* Primary - Brand colors */
  --color-primary: var(--tt-brand-color-500);
  --color-primary-foreground: var(--white);

  /* Destructive - Error/danger states */
  --color-destructive: var(--tt-color-red-base);
  --color-destructive-foreground: var(--white);

  /* Secondary - Subtle actions */
  --color-secondary: var(--tt-gray-light-200);
  --color-secondary-foreground: var(--tt-gray-light-900);

  /* Accent - Hover/focus states */
  --color-accent: var(--tt-gray-light-100);
  --color-accent-foreground: var(--tt-gray-light-900);

  /* Background & borders */
  --color-background: var(--tt-bg-color);
  --color-foreground: var(--tt-gray-light-900);
  --color-border: var(--tt-border-color);
  --color-input: var(--tt-border-color);

  /* Shadows */
  --shadow-xs: 0px 1px 2px 0px rgba(17, 24, 39, 0.05);
}

.dark {
  /* Primary - Same brand color works in dark mode */
  --color-primary: var(--tt-brand-color-500);
  --color-primary-foreground: var(--white);

  /* Destructive */
  --color-destructive: var(--tt-color-red-base);
  --color-destructive-foreground: var(--white);

  /* Secondary */
  --color-secondary: var(--tt-gray-dark-200);
  --color-secondary-foreground: var(--tt-gray-dark-900);

  /* Accent */
  --color-accent: var(--tt-gray-dark-100);
  --color-accent-foreground: var(--tt-gray-dark-900);

  /* Background & borders */
  --color-background: var(--tt-bg-color);
  --color-foreground: var(--tt-gray-dark-900);
  --color-border: var(--tt-border-color);
  --color-input: var(--tt-border-color);

  /* Shadows */
  --shadow-xs: 0px 1px 2px 0px rgba(0, 0, 0, 0.2);
}

@theme {
  --color-page-background: var(--color-page-background);
  --color-primary: var(--color-primary);
  --color-primary-foreground: var(--color-primary-foreground);
  --color-secondary: var(--color-secondary);
  --color-secondary-foreground: var(--color-secondary-foreground);
  --color-accent: var(--color-accent);
  --color-accent-foreground: var(--color-accent-foreground);
  --color-destructive: var(--color-destructive);
  --color-destructive-foreground: var(--color-destructive-foreground);
  --color-background: var(--color-background);
  --color-foreground: var(--color-foreground);
  --color-border: var(--color-border);
  --color-input: var(--color-input);
  --shadow-xs: var(--shadow-xs);
}

/* =====================
   2. PROSEMIRROR BASE
   (Global editor styles - lowest priority)
   ===================== */
@import "./styles/prosemirror-base.css";

/* =====================
   3. NODE-SPECIFIC STYLES
   (Paragraph, headings, lists, etc)
   ===================== */
@import "./features/editor/components/tiptap-node/paragraph-node/paragraph-node.css";
@import "./features/editor/components/tiptap-node/heading-node/heading-node.css";
@import "./features/editor/components/tiptap-node/list-node/list-node.css";
@import "./features/editor/components/tiptap-node/blockquote-node/blockquote-node.css";
@import "./features/editor/components/tiptap-node/code-block-node/code-block-node.css";
@import "./features/editor/components/tiptap-node/image-node/image-node.css";
@import "./features/editor/components/tiptap-node/horizontal-rule-node/horizontal-rule-node.css";
@import "./features/editor/components/tiptap-node/image-upload-node/image-upload-node.css";

/* =====================
   4. EXTENSION STYLES
   (Line numbers, etc)
   ===================== */
@import "./features/editor/components/tiptap-ui-primitive/line-numbers/LineNumbers.css";

/* =====================
   5. LAYOUT STYLES
   (Editor positioning and padding)
   ===================== */
@import "./features/editor/styles/editor-layout.css";

/* =====================
   6. INSTANCE OVERRIDES
   (Simple editor customizations - highest priority)
   ===================== */
@import "./features/editor/components/tiptap/simple-editor.css";

/* =====================
   BASE HTML STYLES
   ===================== */
html, body {
  @apply p-0 m-0 min-w-[320px] min-h-screen bg-page-background;
}

#root {
  @apply w-full;
}
